<div *ngIf="Loading">
  <div fxLayout="row" fxLayoutAlign="center center">
    <mat-spinner></mat-spinner>
  </div>
</div>
<ng-container *ngIf="Context.State?.PaymentStatus?.Code === 0 || Context.State?.PaymentStatus === null">
<lcu-billing-display
  [featured]=""
  [is-upgrade]="true"
  [popular]=""
  [plans]="BillingPlanOptionsSorted"
  [show-button]="true"
  (buy-now)="ChangePlan($event)"
  *ngIf="BillingPlanOptionsSorted?.length > 0 && !IsConfirming"
></lcu-billing-display>

<lcu-confirm-plan-change
  *ngIf="IsConfirming && NewPlan"
  [plan]="NewPlan"
  [payment-status]="Context.State.PaymentStatus"
  (go-back-click-event)="GoBackClickEvent($event)"
  (upgrade-confirmed)="UpgradeRequest($event)">
</lcu-confirm-plan-change>
</ng-container>

<lcu-stripe-form
    *ngIf="Context.State?.PaymentStatus?.Code > 0"
    [billing-header]="BillingHeader"
    [submit-button-text]="SubmitButtonText"
    [is-update-flow]='true'
    (card-change-success)="CardChangeSuccess($event)"
>
</lcu-stripe-form>

